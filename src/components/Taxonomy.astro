---
import { getTagUrl, getCategoryUrl } from "../lib/url";
import type { PublicTag, PublicSiteCategory } from "../sdk";
import { VARIANT_TAG, VARIANT_CATEGORY } from "../lib/constants";

// Props with variant for tag or category
type Props =
  | {
      variant: typeof VARIANT_TAG;
      items: PublicTag[];
      label: string;
    }
  | {
      variant: typeof VARIANT_CATEGORY;
      items: PublicSiteCategory[];
      label: string;
    };

const { items, label, variant } = Astro.props as Props;

// Helper to get url based on variant
function getItemUrl(item: PublicTag | PublicSiteCategory): string {
  if (variant === VARIANT_TAG) {
    return getTagUrl(item as PublicTag);
  } else {
    return getCategoryUrl(item as PublicSiteCategory);
  }
}
---

<div
  class="max-w-4xl mx-auto bg-white rounded shadow border border-sky-600 mb-4 flex items-center"
>
  <div class="shrink-0 border-r border-sky-600 p-4">
    <strong>{label} &nbsp;</strong>
  </div>
  <div class="p-4">
    {
      items.map((item) => (
        <a
          href={getItemUrl(item)}
          class="mr-2 text-blue-600 hover:underline inline-block px-1"
        >
          {item.name}
        </a>
      ))
    }
  </div>
</div>
